import{r as t,j as e,c as E,i as W}from"../../main/index-BM85O6dS.js";import{I as r,B as K}from"./Input.BTpFk_xR.js";function C(o){const{value:n,children:s,className:a}=o,[d,i]=t.useState(!1);return t.useEffect(()=>{if(n===null)return;i(!0);const l=setTimeout(()=>i(!1),3e3);return()=>clearTimeout(l)},[n]),e.jsx("div",{className:E("h-10 w-full shrink-0",a),children:d&&s})}function M(o){const{selectedOption:n,setOption:s,options:a,className:d}=o;return e.jsx("select",{value:n.value,onChange:i=>{const l=i.target.value,u=a.find(c=>c.value.toString()===l.toString());s(u)},className:E("h-8 cursor-pointer rounded-md border p-1 hover:border-blue-400 focus:border-blue-600 dark:bg-slate-900",d),children:a.map(({value:i,label:l})=>e.jsx("option",{value:i,children:l},i))})}const O={value:-1,label:"---",word:{}};function D(){const[o,n]=t.useState(null),[s,a]=t.useState(()=>O),[d,i]=t.useState([]),[l,u]=t.useState(""),[c,j]=t.useState(""),[f,v]=t.useState(""),[h,m]=t.useState(""),[S,w]=t.useState(""),[g,y]=t.useState("");t.useEffect(()=>{s.value!==-1&&(u(s.word.spelling),v(s.word.soundsLike),j(s.word.meaning.join(", ")),y(s.word.categories.join(", ")),m(s.word.pluralForeignKey??""),w(s.word.singularForeignKey??""))},[s]),t.useEffect(()=>{async function x(){const b=(await W.readAll()).map((V,F)=>({value:F,label:V.meaning[0],word:V}));b.unshift(O),i(b)}x()},[]);const N=!(l&&c&&f&&g&&s.value>-1),k=async()=>{const x={...s.word,spelling:l,meaning:c.split(",").map(p=>p.trim()),soundsLike:f,pluralForeignKey:h,singularForeignKey:S,categories:g.split(",").map(p=>p.trim())};await W.update(x.id,x),n(Math.floor(Math.random()*1e3))};return e.jsxs("div",{className:"flex size-full flex-col items-center justify-center gap-10 p-6",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Edit Word"}),e.jsx(M,{selectedOption:s,setOption:a,options:d}),e.jsxs("div",{className:"flex flex-col items-start justify-start gap-6 overflow-auto",children:[e.jsxs("div",{children:[e.jsx("div",{children:"Spelling:"}),e.jsx(r,{value:l,setValue:u})]}),e.jsxs("div",{children:[e.jsx("div",{children:"Meaning:"}),e.jsx(r,{value:c,setValue:j})]}),e.jsxs("div",{children:[e.jsx("div",{children:"Sounds Like:"}),e.jsx(r,{value:f,setValue:v})]}),e.jsxs("div",{children:[e.jsx("div",{children:"Plural Foreign Key:"}),e.jsx(r,{value:h,setValue:m})]}),e.jsxs("div",{children:[e.jsx("div",{children:"Singular Foreign Key:"}),e.jsx(r,{value:S,setValue:w})]}),e.jsxs("div",{children:[e.jsx("div",{children:"Categories:"}),e.jsx(r,{value:g,setValue:y})]})]}),e.jsx(C,{value:o,className:"flex items-center justify-center",children:e.jsx("div",{className:"h-full",children:"Word edited successfully!"})}),e.jsx(K,{content:"Edit word",disabled:N,onClick:k})]})}export{D as default};
//# sourceMappingURL=index.CDt59qmp.js.map

import{r as a,j as e,C as O,M as R,i as j}from"../../main/index-DoGVyiw4.js";import{I as T,B as h}from"./Input.-OJK72hN.js";import{S as U}from"./Select.D0Vh_Yyz.js";import{s as E,S as I,V as M,X as B,R as V}from"./selectKWords.Bk9sUBQ9.js";const C="---",S=10,p=Array.from(Array(S)).map(()=>""),x=Object.entries(O).map(([l,o])=>({value:o,label:l}));x.unshift({value:C,label:"---"});function L(){const[l,o]=a.useState([]),[n,v]=a.useState(x[0]),[y,d]=a.useState(),[N,b]=a.useState([]),w=a.useMemo(()=>{const s=n.value===C?l:l.filter(t=>t.categories.includes(n.value));return E({data:s,strategy:I.Knowledge,wordCount:S})},[l,n]),[u,f]=a.useState(()=>p),A=()=>{d(!0);const s=[];w.forEach((t,c)=>{const{id:r,spelling:m}=t;if(!(m===u[c]))return;const i={...t,points:Math.min(t.points+1,R)};s.push(i),j.update(r,i)}),b(s)};a.useEffect(()=>{async function s(){const t=await j.readAll();o(t)}s()},[]);const W=()=>{f(p),d(!1),o(s=>s.map(t=>N.find(r=>r.id===t.id)??t))},k=()=>{f(p),d(!1)};return l.length?e.jsxs("div",{className:"flex size-full flex-col items-center justify-center gap-10 p-6",children:[e.jsx(U,{selectedOption:n,setOption:v,options:x}),e.jsx("div",{className:"flex w-full max-w-md flex-col gap-3 rounded-md border p-4",children:w.map(({spelling:s,meaning:t,soundsLike:c},r)=>{const m=s===u[r];return e.jsxs("div",{className:"flex h-10 w-full items-center justify-between gap-10",children:[e.jsx("div",{title:c,children:t[0]}),e.jsxs("div",{className:"flex h-full items-center gap-2",children:[e.jsx(T,{value:u[r],setValue:g=>f(i=>i.with(r,g)),className:"!w-52"}),e.jsx("div",{className:"h-full w-12",children:y&&e.jsx("div",{className:"flex h-full items-center justify-center",children:m?e.jsx(M,{className:"h-1/2",borderColor:"#19d23a",color:"#19d23a",title:s}):e.jsx(B,{className:"h-1/2 stroke-red-500",title:s})})})]})]},r)})}),e.jsxs("div",{className:"flex w-full max-w-md items-center justify-between gap-4",children:[e.jsx(h,{content:"Check",onClick:A,className:"h-10 w-24"}),e.jsx(h,{content:"retry",onClick:k,className:"flex flex-col-reverse items-center justify-center gap-1 bg-neutral-600 hover:bg-neutral-700 active:bg-neutral-800",children:e.jsx(V,{className:"size-4"})}),e.jsx(h,{content:"Next",onClick:W,className:"h-10 w-24 bg-green-600 hover:bg-green-700 active:bg-green-800"})]})]}):null}export{L as default};
//# sourceMappingURL=index.CrvqVdAf.js.map

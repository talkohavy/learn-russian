import{j as e,c as k,r as t,i as V}from"../../main/index-BwtyOpBI.js";import{I as i,B as C}from"./Input.BpdpEhM8.js";import{D as N}from"./DisappearingMessage.tgbI3lE5.js";function M(p){const{selectedOption:x,setOption:s,options:o,className:g}=p;return e.jsx("select",{value:x.value,onChange:n=>{const l=n.target.value,r=o.find(a=>a.value.toString()===l.toString());s(r)},className:k("h-8 cursor-pointer rounded-md border p-1 hover:border-blue-400 focus:border-blue-600 dark:bg-slate-900",g),children:o.map(({value:n,label:l})=>e.jsx("option",{value:n,children:l},n))})}const E={value:-1,label:"---",word:{}};function I(){const[p,x]=t.useState(null),[s,o]=t.useState(()=>E),[g,n]=t.useState([]),[l,r]=t.useState(""),[a,f]=t.useState(""),[j,h]=t.useState(""),[S,y]=t.useState(""),[w,W]=t.useState(""),[v,b]=t.useState("");t.useEffect(()=>{s.value!==-1&&(r(s.word.spelling),h(s.word.soundsLike),f(s.word.meaning.join(", ")),b(s.word.categories.join(", ")),y(s.word.pluralForeignKey??""),W(s.word.singularForeignKey??""))},[s]),t.useEffect(()=>{async function d(){const O=(await V.readAll()).sort((u,m)=>u.meaning[0].localeCompare(m.meaning[0])).map((u,m)=>({value:m,label:u.meaning[0],word:u}));O.unshift(E),n(O)}d()},[]);const F=!(l&&a&&j&&v&&s.value>-1),K=async()=>{const d={...s.word,spelling:l,meaning:a.split(",").map(c=>c.trim()),soundsLike:j,pluralForeignKey:S,singularForeignKey:w,categories:v.split(",").map(c=>c.trim())};await V.update(d.id,d),x(Math.floor(Math.random()*1e3))};return e.jsxs("div",{className:"flex size-full flex-col items-center justify-center gap-10 p-6",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Edit Word"}),e.jsx(M,{selectedOption:s,setOption:o,options:g}),e.jsxs("div",{className:"flex flex-col items-start justify-start gap-6 overflow-auto",children:[e.jsxs("div",{children:[e.jsx("div",{children:"Spelling:"}),e.jsx(i,{value:l,setValue:r})]}),e.jsxs("div",{children:[e.jsx("div",{children:"Meaning:"}),e.jsx(i,{value:a,setValue:f})]}),e.jsxs("div",{children:[e.jsx("div",{children:"Sounds Like:"}),e.jsx(i,{value:j,setValue:h})]}),e.jsxs("div",{children:[e.jsx("div",{children:"Plural Foreign Key:"}),e.jsx(i,{value:S,setValue:y})]}),e.jsxs("div",{children:[e.jsx("div",{children:"Singular Foreign Key:"}),e.jsx(i,{value:w,setValue:W})]}),e.jsxs("div",{children:[e.jsx("div",{children:"Categories:"}),e.jsx(i,{value:v,setValue:b})]})]}),e.jsx(N,{value:p,className:"flex items-center justify-center",children:e.jsx("div",{className:"h-full text-lg text-green-400",children:"Word edited successfully!"})}),e.jsx(C,{content:"Edit word",disabled:F,onClick:K})]})}export{I as default};
//# sourceMappingURL=index.MZJWfiCw.js.map

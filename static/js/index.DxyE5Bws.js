import{r as a,j as e,C as O,M as R,i as v}from"../../main/index-BH8JyhBl.js";import{I as U,B as f}from"./Input.lMW-6nuu.js";import{S as E}from"./Select.Deq8JSby.js";import{s as M,S as B,T as P,V,X,a as z,P as D,R as K}from"./selectKWords.BXZfHubW.js";const y="---",S=10,h=Array.from(Array(S)).map(()=>""),x=Object.entries(O).map(([n,o])=>({value:o,label:n}));x.unshift({value:y,label:"---"});function G(){const n=a.useId(),[o,g]=a.useState([]),[c,N]=a.useState(x[0]),[b,d]=a.useState(),[A,W]=a.useState([]),w=a.useMemo(()=>{const s=c.value===y?o:o.filter(l=>l.categories.includes(c.value));return M({data:s,strategy:B.Knowledge,wordCount:S})},[o,c]),[u,m]=a.useState(()=>h),T=()=>{d(!0);const s=[];w.forEach((t,l)=>{const{id:r,spelling:p}=t;if(!(p===u[l]))return;const i={...t,points:Math.min(t.points+1,R)};s.push(i),v.update(r,i)}),W(s)};a.useEffect(()=>{async function s(){const t=await v.readAll();g(t)}s()},[]);const k=()=>{m(h),d(!1),g(s=>s.map(t=>A.find(r=>r.id===t.id)??t))},j=()=>{m(h),d(!1)},I=s=>{N(s),j()};return o.length?e.jsxs("div",{className:"flex size-full flex-col items-center justify-center gap-10 overflow-auto p-6",children:[e.jsx(E,{selectedOption:c,setOption:I,options:x}),e.jsx("div",{className:"flex w-full max-w-md flex-col gap-3 rounded-md border p-4",children:w.map(({spelling:s,meaning:t,soundsLike:l},r)=>{const p=s===u[r];return e.jsxs("div",{className:"flex h-10 w-full items-center justify-between gap-10",children:[e.jsx("div",{title:l,children:t[0]}),e.jsxs("div",{className:"flex h-full items-center gap-2",children:[e.jsx(U,{value:u[r],setValue:C=>m(i=>i.with(r,C)),className:"!w-36"}),e.jsx("div",{className:"h-full w-6",children:e.jsx(P,{groupId:n,contentOverride:s,children:b&&e.jsx("div",{className:"flex h-full items-center justify-center",children:p?e.jsx(V,{className:"h-1/2",borderColor:"#19d23a",color:"#19d23a"}):e.jsx(X,{className:"h-1/2 stroke-red-500"})})})})]}),e.jsx(z,{groupId:n,place:D.Top,isClickable:!0,className:"!p-3"})]},r)})}),e.jsxs("div",{className:"flex w-full max-w-md items-center justify-between gap-4",children:[e.jsx(f,{content:"Check",onClick:T,className:"h-10 w-24"}),e.jsx(f,{content:"retry",onClick:j,className:"flex flex-col-reverse items-center justify-center gap-1 bg-neutral-600 hover:bg-neutral-700 active:bg-neutral-800",children:e.jsx(K,{className:"size-4"})}),e.jsx(f,{content:"Next",onClick:k,className:"h-10 w-24 bg-green-600 hover:bg-green-700 active:bg-green-800"})]})]}):null}export{G as default};
//# sourceMappingURL=index.l6VKJ7Nu.js.map

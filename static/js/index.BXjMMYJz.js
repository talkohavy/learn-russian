import{r as s,j as e,i as T}from"../../main/index-EbY9jCNz.js";import{I as l,B as K}from"./Input.C7fvVYVV.js";import{D as L}from"./DisappearingMessage.Cx6BpzUo.js";import{S as A}from"./Select.1icoqjpK.js";const V=350,M=50;function O(S){const{value:y,setValue:t,step:m=1,placeholder:w=""}=S,[g,o]=s.useState(null),d=s.useRef(!1),r=s.useRef(!1),n=s.useRef(null),i=()=>t(c=>+c+m),x=()=>t(c=>+c-m),f=()=>{i(),d.current=!0,n.current=setTimeout(()=>{o(setInterval(i,M))},V)},a=()=>{d.current=!1,clearTimeout(n.current),clearInterval(g)},p=()=>{x(),r.current=!0,n.current=setTimeout(()=>{o(setInterval(x,M))},V)},u=()=>{r.current=!1,clearTimeout(n.current),clearInterval(g)};return e.jsxs("div",{className:"flex gap-2",children:[e.jsx(l,{value:y,setValue:t,placeholder:w}),e.jsxs("div",{className:"flex flex-col items-center justify-between p-0.5",children:[e.jsx("button",{type:"button",onMouseDown:f,onMouseUp:a,onMouseLeave:a,onTouchStart:f,onTouchEnd:a,className:"flex size-4 items-center justify-center rounded-md bg-neutral-200 text-xs",children:"▲"}),e.jsx("button",{type:"button",onMouseDown:p,onMouseUp:u,onMouseLeave:u,onTouchStart:p,onTouchEnd:u,className:"flex size-4 items-center justify-center rounded-md bg-neutral-200 text-xs",children:"▼"})]})]})}const R={value:-1,label:"---",word:{}};function z(){const[S,y]=s.useState(null),[t,m]=s.useState(()=>R),[w,g]=s.useState([]),[o,d]=s.useState(""),[r,n]=s.useState(""),[i,x]=s.useState(""),[f,a]=s.useState(""),[p,u]=s.useState(""),[c,N]=s.useState(0),[b,W]=s.useState("");s.useEffect(()=>{t.value!==-1&&(d(t.word.spelling),x(t.word.soundsLike),n(t.word.meaning.join(", ")),a(t.word.pluralForeignKey??""),u(t.word.singularForeignKey??""),N(t.word.points),W(t.word.categories.join(", ")))},[t]),s.useEffect(()=>{async function j(){const I=(await T.readAll()).sort((h,E)=>h.meaning[0].localeCompare(E.meaning[0])).map((h,E)=>({value:E,label:h.meaning[0],word:h}));I.unshift(R),g(I)}j()},[]);const D=!(o&&r&&i&&b&&t.value>-1),F=async()=>{const j={...t.word,spelling:o,meaning:r.split(",").map(v=>v.trim()),soundsLike:i,pluralForeignKey:f,singularForeignKey:p,points:c,categories:b.split(",").map(v=>v.trim())};await T.update(j.id,j),y(Math.floor(Math.random()*1e3))};return e.jsxs("div",{className:"flex size-full flex-col items-center justify-center gap-10 p-6",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Edit Word"}),e.jsx(A,{selectedOption:t,setOption:m,options:w}),e.jsxs("div",{className:"flex flex-col items-start justify-start gap-6 overflow-auto",children:[e.jsxs("div",{children:[e.jsx("div",{children:"Spelling:"}),e.jsx(l,{value:o,setValue:d})]}),e.jsxs("div",{children:[e.jsx("div",{children:"Meaning:"}),e.jsx(l,{value:r,setValue:n})]}),e.jsxs("div",{children:[e.jsx("div",{children:"Sounds Like:"}),e.jsx(l,{value:i,setValue:x})]}),e.jsxs("div",{children:[e.jsx("div",{children:"Plural Foreign Key:"}),e.jsx(l,{value:f,setValue:a})]}),e.jsxs("div",{children:[e.jsx("div",{children:"Singular Foreign Key:"}),e.jsx(l,{value:p,setValue:u})]}),e.jsxs("div",{children:[e.jsx("div",{children:"Points:"}),e.jsx(O,{value:c,setValue:N})]}),e.jsxs("div",{children:[e.jsx("div",{children:"Categories:"}),e.jsx(l,{value:b,setValue:W})]})]}),e.jsx(L,{value:S,className:"flex items-center justify-center",children:e.jsx("div",{className:"h-full text-lg text-green-400",children:"Word edited successfully!"})}),e.jsx(K,{content:"Edit word",disabled:D,onClick:F})]})}export{z as default};
//# sourceMappingURL=index.CrCjtZRQ.js.map

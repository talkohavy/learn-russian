import{r as t,j as e,i as T}from"../../main/index-DopyNR0x.js";import{I as i,B as L}from"./Input.BPxK_vWq.js";import{D as k}from"./DisappearingMessage.Ca48Bh-u.js";import{S as A}from"./Select.DEclF5R4.js";const V=350,M=50;function C(y){const{value:b,setValue:s,step:m=1,placeholder:w=""}=y,[g,c]=t.useState(null),r=t.useRef(!1),u=t.useRef(!1),n=t.useRef(null),d=()=>s(x=>+x+m),a=()=>s(x=>+x-m),f=()=>{d(),r.current=!0,n.current=setTimeout(()=>{c(setInterval(d,M))},V)},l=()=>{r.current=!1,clearTimeout(n.current),clearInterval(g)},p=()=>{a(),u.current=!0,n.current=setTimeout(()=>{c(setInterval(a,M))},V)},o=()=>{u.current=!1,clearTimeout(n.current),clearInterval(g)};return e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{value:b,setValue:s,placeholder:w}),e.jsxs("div",{className:"flex flex-col items-center justify-between p-0.5",children:[e.jsx("button",{type:"button",onMouseDown:f,onMouseUp:l,onMouseLeave:l,onTouchStart:f,onTouchEnd:l,className:"flex size-4 items-center justify-center rounded-md bg-neutral-200 text-xs",children:"▲"}),e.jsx("button",{type:"button",onMouseDown:p,onMouseUp:o,onMouseLeave:o,onTouchStart:p,onTouchEnd:o,className:"flex size-4 items-center justify-center rounded-md bg-neutral-200 text-xs",children:"▼"})]})]})}const F={value:-1,label:"---",word:{}};function U(){const[y,b]=t.useState(null),[s,m]=t.useState(()=>F),[w,g]=t.useState([]),[c,r]=t.useState(""),[u,n]=t.useState(""),[d,a]=t.useState(""),[f,l]=t.useState(""),[p,o]=t.useState(""),[x,W]=t.useState(0),[E,j]=t.useState("");t.useEffect(()=>{s.value!==-1&&(r(s.word.spelling),a(s.word.soundsLike),n(s.word.meaning.join(", ")),l(s.word.pluralForeignKey??""),o(s.word.singularForeignKey??""),W(s.word.points),j(s.word.categories.join(", ")))},[s]),t.useEffect(()=>{async function v(){const I=(await T.readAll()).sort((S,N)=>S.meaning[0].localeCompare(N.meaning[0])).map((S,N)=>({value:N,label:S.meaning[0],word:S}));I.unshift(F),g(I)}v()},[]);const R=!(c&&u&&d&&E&&s.value>-1),D=t.useCallback(()=>{r(""),n(""),a(""),l(""),o(""),j("")},[r,n,a,l,o,j]),K=async()=>{const v={...s.word,spelling:c,meaning:u.split(",").map(h=>h.trim()),soundsLike:d,pluralForeignKey:f,singularForeignKey:p,points:x,categories:E.split(",").map(h=>h.trim())};await T.update(v.id,v),D(),b(Math.floor(Math.random()*1e3))};return e.jsxs("div",{className:"flex size-full flex-col items-center justify-center gap-10 p-6",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Edit Word"}),e.jsx(A,{selectedOption:s,setOption:m,options:w}),e.jsxs("div",{className:"flex flex-col items-start justify-start gap-6 overflow-auto",children:[e.jsxs("div",{children:[e.jsx("div",{children:"Spelling:"}),e.jsx(i,{value:c,setValue:r})]}),e.jsxs("div",{children:[e.jsx("div",{children:"Meaning:"}),e.jsx(i,{value:u,setValue:n})]}),e.jsxs("div",{children:[e.jsx("div",{children:"Sounds Like:"}),e.jsx(i,{value:d,setValue:a})]}),e.jsxs("div",{children:[e.jsx("div",{children:"Plural Foreign Key:"}),e.jsx(i,{value:f,setValue:l})]}),e.jsxs("div",{children:[e.jsx("div",{children:"Singular Foreign Key:"}),e.jsx(i,{value:p,setValue:o})]}),e.jsxs("div",{children:[e.jsx("div",{children:"Points:"}),e.jsx(C,{value:x,setValue:W})]}),e.jsxs("div",{children:[e.jsx("div",{children:"Categories:"}),e.jsx(i,{value:E,setValue:j})]})]}),e.jsx(k,{value:y,className:"flex items-center justify-center",children:e.jsx("div",{className:"h-full text-lg text-green-400",children:"Word edited successfully!"})}),e.jsx(L,{content:"Edit word",disabled:R,onClick:K})]})}export{U as default};
//# sourceMappingURL=index.BLLxzRjP.js.map

{"version":3,"file":"index.D6QRMuS2.js","sources":["../../../src/pages/AddWordPage/AddWordPage.tsx"],"sourcesContent":["import { useCallback, useState } from 'react';\nimport Button from '@src/components/Button';\nimport DisappearingMessage from '@src/components/DisappearingMessage';\nimport Input from '@src/components/Input';\nimport { indexDBClient } from '@src/main';\n\nexport default function AddWordPage() {\n  const [savedValue, setSavedValue] = useState<number | null>(null);\n  const [spelling, setSpelling] = useState('');\n  const [meaning, setMeaning] = useState<string>('');\n  const [soundsLike, setSoundsLike] = useState<string>('');\n  const [pluralForeignKey, setPluralForeignKey] = useState<string>('');\n  const [singularForeignKey, setSingularForeignKey] = useState<string>('');\n  const [categories, setCategories] = useState<string>('');\n\n  const isDisabled = !(spelling && meaning && soundsLike && categories);\n\n  const resetFields = useCallback(() => {\n    setSpelling('');\n    setMeaning('');\n    setSoundsLike('');\n    setPluralForeignKey('');\n    setSingularForeignKey('');\n    setCategories('');\n  }, [setSpelling, setMeaning, setSoundsLike, setPluralForeignKey, setSingularForeignKey, setCategories]);\n\n  const handleAddNewWordClick = async () => {\n    const meaningArr = meaning.split(',').map((item) => item.trim());\n    const categoriesArr = categories.split(',').map((item) => item.trim());\n\n    const newWord = {\n      spelling,\n      meaning: meaningArr,\n      soundsLike,\n      pluralForeignKey,\n      singularForeignKey,\n      points: 0,\n      categories: categoriesArr,\n    };\n\n    const isWordAlreadyExists = (await indexDBClient.getWords({ spelling })).length;\n\n    if (isWordAlreadyExists) return console.error('WORD ALREADY EXISTS!');\n\n    await indexDBClient.create(newWord);\n\n    resetFields();\n\n    setSavedValue(Math.floor(Math.random() * 1000));\n  };\n\n  return (\n    <div className='flex size-full flex-col items-center justify-center gap-10 p-6'>\n      <h2 className='text-xl font-bold'>Add New Word</h2>\n\n      <div className='flex flex-col items-start justify-start gap-6'>\n        <div>\n          <div>Spelling:</div>\n          <Input value={spelling} setValue={setSpelling} />\n        </div>\n\n        <div>\n          <div>Meaning:</div>\n          <Input value={meaning} setValue={setMeaning} />\n        </div>\n\n        <div>\n          <div>Sounds Like:</div>\n          <Input value={soundsLike} setValue={setSoundsLike} />\n        </div>\n\n        <div>\n          <div>Plural Foreign Key:</div>\n          <Input value={pluralForeignKey} setValue={setPluralForeignKey} />\n        </div>\n\n        <div>\n          <div>Singular Foreign Key:</div>\n          <Input value={singularForeignKey} setValue={setSingularForeignKey} />\n        </div>\n\n        <div>\n          <div>Categories:</div>\n          <Input value={categories} setValue={setCategories} />\n        </div>\n      </div>\n\n      <DisappearingMessage value={savedValue} className='flex items-center justify-center'>\n        <div className='h-full text-lg text-green-400'>Word added successfully!</div>\n      </DisappearingMessage>\n\n      <Button content='Add new word' disabled={isDisabled} onClick={handleAddNewWordClick} />\n    </div>\n  );\n}\n"],"names":["AddWordPage","savedValue","setSavedValue","useState","spelling","setSpelling","meaning","setMeaning","soundsLike","setSoundsLike","pluralForeignKey","setPluralForeignKey","singularForeignKey","setSingularForeignKey","categories","setCategories","isDisabled","resetFields","useCallback","handleAddNewWordClick","meaningArr","item","categoriesArr","newWord","indexDBClient","jsxs","jsx","Input","DisappearingMessage","Button"],"mappings":"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"}
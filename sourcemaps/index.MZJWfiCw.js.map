{"version":3,"file":"index.B3H4JQnS.js","sources":["../../../src/components/Select/Select.tsx","../../../src/pages/EditWordPage/EditWordPage.tsx"],"sourcesContent":["import type { ReactNode } from 'react';\nimport clsx from 'clsx';\n\ntype Option = { value: string | number; label: ReactNode };\n\ntype SelectProps = {\n  selectedOption: Option;\n  setOption: any;\n  options: Array<Option>;\n  className?: string;\n};\n\nexport default function Select(props: SelectProps) {\n  const { selectedOption, setOption, options, className } = props;\n\n  return (\n    <select\n      value={selectedOption.value}\n      onChange={(e) => {\n        const selectedValue = e.target.value;\n        const selectedOption = options.find((option) => option.value.toString() === selectedValue.toString());\n        setOption(selectedOption);\n      }}\n      className={clsx(\n        'h-8 cursor-pointer rounded-md border p-1 hover:border-blue-400 focus:border-blue-600 dark:bg-slate-900',\n        className,\n      )}\n    >\n      {options.map(({ value, label }) => (\n        <option key={value} value={value}>\n          {label}\n        </option>\n      ))}\n    </select>\n  );\n}\n","import { useEffect, useState } from 'react';\nimport Button from '@src/components/Button';\nimport DisappearingMessage from '@src/components/DisappearingMessage';\nimport Input from '@src/components/Input';\nimport Select from '@src/components/Select';\nimport { indexDBClient } from '@src/main';\nimport type { Category, Word } from '@src/utils/types';\n\nconst defaultOption = { value: -1, label: '---', word: {} as Word };\n\nexport default function EditWordPage() {\n  const [savedValue, setSavedValue] = useState<number | null>(null);\n  const [selectedWord, setSelectedWord] = useState(() => defaultOption);\n  const [wordOptions, setWordOptions] = useState<Array<{ value: number | string; label: string; word: Word }>>([]);\n  const [spelling, setSpelling] = useState('');\n  const [meaning, setMeaning] = useState<string>('');\n  const [soundsLike, setSoundsLike] = useState<string>('');\n  const [pluralForeignKey, setPluralForeignKey] = useState<string>('');\n  const [singularForeignKey, setSingularForeignKey] = useState<string>('');\n  const [categories, setCategories] = useState<string>('');\n\n  useEffect(() => {\n    if (selectedWord.value === -1) return;\n\n    setSpelling(selectedWord.word.spelling);\n    setSoundsLike(selectedWord.word.soundsLike);\n    setMeaning(selectedWord.word.meaning.join(', '));\n    setCategories(selectedWord.word.categories.join(', '));\n    setPluralForeignKey(selectedWord.word.pluralForeignKey ?? '');\n    setSingularForeignKey(selectedWord.word.singularForeignKey ?? '');\n  }, [selectedWord]);\n\n  useEffect(() => {\n    async function fetchWordOptions() {\n      const allWords = (await indexDBClient.readAll()) as Array<Word>;\n\n      const allWordSorted = allWords.sort((a, b) => a.meaning[0]!.localeCompare(b.meaning[0]!));\n\n      const wordOptions = allWordSorted.map((word, index) => ({ value: index, label: word.meaning[0]!, word }));\n      wordOptions.unshift(defaultOption);\n\n      setWordOptions(wordOptions);\n    }\n\n    fetchWordOptions();\n  }, []);\n\n  const isDisabled = !(spelling && meaning && soundsLike && categories && selectedWord.value > -1);\n\n  const handleEditWordClick = async () => {\n    const updatedWord: Word = {\n      ...selectedWord.word,\n      spelling,\n      meaning: meaning.split(',').map((word) => word.trim()),\n      soundsLike,\n      pluralForeignKey,\n      singularForeignKey,\n      categories: categories.split(',').map((word) => word.trim()) as Array<Category>,\n    };\n\n    await indexDBClient.update(updatedWord.id!, updatedWord);\n\n    setSavedValue(Math.floor(Math.random() * 1000));\n  };\n\n  return (\n    <div className='flex size-full flex-col items-center justify-center gap-10 p-6'>\n      <h2 className='text-xl font-bold'>Edit Word</h2>\n\n      <Select selectedOption={selectedWord} setOption={setSelectedWord} options={wordOptions} />\n\n      <div className='flex flex-col items-start justify-start gap-6 overflow-auto'>\n        <div>\n          <div>Spelling:</div>\n          <Input value={spelling} setValue={setSpelling} />\n        </div>\n\n        <div>\n          <div>Meaning:</div>\n          <Input value={meaning} setValue={setMeaning} />\n        </div>\n\n        <div>\n          <div>Sounds Like:</div>\n          <Input value={soundsLike} setValue={setSoundsLike} />\n        </div>\n\n        <div>\n          <div>Plural Foreign Key:</div>\n          <Input value={pluralForeignKey} setValue={setPluralForeignKey} />\n        </div>\n\n        <div>\n          <div>Singular Foreign Key:</div>\n          <Input value={singularForeignKey} setValue={setSingularForeignKey} />\n        </div>\n\n        <div>\n          <div>Categories:</div>\n          <Input value={categories} setValue={setCategories} />\n        </div>\n      </div>\n\n      <DisappearingMessage value={savedValue} className='flex items-center justify-center'>\n        <div className='h-full text-lg text-green-400'>Word edited successfully!</div>\n      </DisappearingMessage>\n\n      <Button content='Edit word' disabled={isDisabled} onClick={handleEditWordClick} />\n    </div>\n  );\n}\n"],"names":["Select","props","selectedOption","setOption","options","className","jsx","e","selectedValue","option","clsx","value","label","defaultOption","EditWordPage","savedValue","setSavedValue","useState","selectedWord","setSelectedWord","wordOptions","setWordOptions","spelling","setSpelling","meaning","setMeaning","soundsLike","setSoundsLike","pluralForeignKey","setPluralForeignKey","singularForeignKey","setSingularForeignKey","categories","setCategories","useEffect","fetchWordOptions","indexDBClient","a","b","word","index","isDisabled","handleEditWordClick","updatedWord","jsxs","Input","DisappearingMessage","Button"],"mappings":"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"}